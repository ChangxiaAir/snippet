VIM键盘映射(Map)
==============

#### 设置键盘映射
使用`:map`命令，可以将键盘上的某个按键与Vim的命令绑定起来。例如使用以下命令，可以通过F5键将单词用花括号括起来：
```viml
:map <F5> i{e<Esc>a}<Esc>
```
其中：`i{`将插入字符`{`，然后使用`Esc`退回到命令状态；接着用`e`移到单词结尾，`a}`增加字符`}`，最后退至命令状态。在执行以上命令之后，光标定位在一个单词上（例如amount），按下`F5`键，这时字符就会变成`{amount}`的形式。

#### 不同模式下的键盘映射
使用下表中不同形式的map命令，可以针对特定的模式设置键盘映射：

Command命令 | Normal常规模式 | Visual可视化模式 | Operator Pending运算符模式 | Insert Only插入模式 | Command Line命令行模式
-----------|---------------|----------------|---------------------------|-------------------|-----------------------
   :map    |       y       |        y       |             y             |                   |
   :nmap   |       y       |                |                           |                   |
   :vmap   |               |        y       |                           |                   |
   :omap   |               |                |             y             |                   |
   :map!   |               |                |                           |         y         |            y
   :imap   |               |                |                           |         y         |
   :cmap   |               |                |                           |                   |            y

#### 键盘映射实例
使用以下命令，可以在`Normal Mode`和`Visual/Select Mode`下，利用`Tab`键和`Shift-Tab`键来缩进文本：
```viml
nmap <tab> V>
nmap <s-tab> V<
vmap <tab> >gv
vmap <s-tab> <gv
```

使用以下命令，指定`F10`键来新建标签页：
```viml
:map <F10> <Esc>:tabnew<CR>
```
其中：`<Esc>`代表Escape键；`<CR>`代表Enter键；而功能键则用`<F10>`表示。首先进入命令行模式，然后执行新建标签页的`:tabnew`命令，最后返回常规模式。

同理：对于组合键，可以用`<C-Esc>`代表`Ctrl-Esc`；使用`<S-F1>`表示`Shift-F1`。对于`Mac`用户，可以使用`<D>`代表`Command`键。

注意：`Alt`键可以使用`<M-key>`或`<A-key>`来表示。

关于键盘符号的详细说明，请使用 `:h key-notation` 命令查看帮助信息。

我们还可以针对函数设置键盘映射。 例如，将以下代码加入`.vimrc`文件，就可以利用快捷键，来打开或关闭针对搜索结果的高亮显示。

#### 查看键盘映射
使用`:map`命令，可以列出所有键盘映射。其中第一列标明了映射在哪种模式下工作：

   标记   |       模式
---------|----------------------------
<space>  | 常规模式，可视化模式，运算符模式
    n    | 常规模式
    v    | 可视化模式
    o    | 运算符模式
    !    | 插入模式，命令行模式
    i    | 插入模式
    c    | 命令模式
使用`:map!`命令，则只列出插入和命令行模式的映射。而`:imap`，`:vmap`，`:omap`，`:nmap`命令则只是列出相应模式下的映射。

#### 取消键盘映射
如果想要取消一个映射，可以使用以下命令：
```viml
:unmap <F10>
```
注意：必须为`:unmap`命令指定一个参数。如果未指定任何参数，那么系统将会报错，而不会取消所有的键盘映射。

针对不同模式下的键盘映射，需要使用与其相对应的`unmap`命令。例如：使用`:iunmap`命令，取消插入模式下的键盘映射；而取消常规模式下的键盘映射，则需要使用`:nunmap`命令。

如果想要取消所有映射，可以使用`:mapclear`命令。请注意，这个命令将会移除所有用户定义和系统默认的键盘映射。

#### 参考
[Vim Map](http://yyq123.blogspot.com/2010/12/vim-map.html)

[Vim按键映射](http://www.pythonclub.org/vim/map-basic)

---

From: http://www.pythonclub.org/linux/vim/map


第十二部分 其他
============

## 32 作业控制
待写。
 

## 33 信号
待写。


## 34 退出状态

### 34.1 说明

	(1) 在shell中，任何命令或脚本都有一个退出状态：零表示命令执行成功，非零表示命令执行失败。
	(2) 退出状态与逻辑正好相反：shell中的逻辑值遵循C中的逻辑值，即0表示为假（false），非0表示为真（true）。
	(3) 一条简单命令的返回值是它退出状态；如果该命令是一个信号n，则它的退出状态就是n+128。
	(4) 如果没有找到命令，为执行它而创建的子进程返回127；如果找到了命令但文件不可执行，则返回126。
	(5) 退出状态范围是从0到255。

### 34.2 POSIX的退出状态

值      |        含义              |   逻辑值
--------|-------------------------|----------
0       |  命令成功地退出           |   true
1-125   |  命令不执行地退出          |  false
126     |  命令找到了，但文件无法执行  |  false
127     |  命令找不到               |  false
>128    |  命令因收到信号而死亡       |  false
 

## 35 提示符

提示符为在命令行输入命令时，输入的命令前所出现的提示；该提示是可以定制的。以下是提示符的语法定义符号。

语法  |       含义
-----|-------------------------------------------------
\a   |  报警（铃声）
\d   |  日期，格式为“Weekday Month Day”，如“Mon May 8”
\e   |  ASCII转义字符（终端转义符，不是反斜线）
\h   |  主机名称（以“.”开头）
\j   |  后台作业数（活动的或停止的）
\l   |  当前的终端名（不包括路径）
\n   |  在提示符位置处插入换行符
\r   |  在提示符位置处插入回车符
\s   |  当前shell的名字（不包括路径名）
\t   |  时间采用24小时制，格式为HH:MM:SS，如15:30:00
\T   |  时间采用12小时制，格式为HH:MM:SS，如03:30:00
\A   |  时间采用24小时制，格式为HH:MM
\@   |  时间采用12小时制，格式为am/pm格式，如03:30p.m.
\u   |  用户的账户名
\v   |  bash的版本
\V   |  bash的版本和补丁级别
\w   |  当前的工作目录（绝对路径）
\W   |  当前工作目录的最后一部分（在最后一个斜线之后）
\H   |  主机名称
\\   |  在提示符位置处插入单个反斜线
\#   |  历史命令的编号，当shell开始时编号为1
\!   |  历史命令中当前命令的编号
\$   |  指示用户是否是root身份：#代表root，$代表其他用户
\[   |  开始一个非打印字符序列，以\]结束
\]   |  结束一个非打印字符序列，以\[开始
\nnn |  在提示符里插入与八进制数nnn相对应的字符

**说明：**

命令编号（the command number）与历史编号（the history number）通常是不同的：一个命令的历史编号是它在存储于历史文件中的历史列表中的位置，而命令编号是它在当前shell会话中被执行的命令序列中的位置。


## 36 控制字符
控制字符在脚本中不能正常使用。

语法          |   含义
-------------|-----------------------------------------------
Ctrl-A       | 把光标移动到当前命令行的最前端。
Ctrl-B       |  退格（非破坏性的），就是退格但不删除前面的字符。
Ctrl-C       |  break。终结一个前台作业。
Ctrl-D       |  从一个shell中登出（与exit很相像）。“EOF”（文件结束符），这也能从stdin中终止输入。 在console或者在xterm窗口中输入的时候，Ctrl-D将删除光标下的字符； 当没有字符时，Ctrl-D将退出当前会话，在一个xterm窗口中，则会产生关闭此窗口的效果。
Ctrl-E       |  把光标移动到当前命令行的最末端。
Ctrl-G       |  “哗”（beep）。在一些老式的打字机终端下，它会响一下铃。
Ctrl-H       |  退格（破坏性的）。退格时还会删除光标前面的字符。
Ctrl-I       |  水平制表符。
Ctrl-J       |  重起一行（换一行并到行首）。
Ctrl-K       |  垂直制表符。 当在console或xterm窗口中输入文本时，Ctrl-K会删除从光标所在处到行末的全部字符。 在脚本中，Ctrl-K的行为不些不同。
Ctrl-L       |  清屏。当发送给打印机时，Ctrl-L会让打印机将打印纸卷到最后。
Ctrl-M       |   回车。
Ctrl-Q       |   恢复（XON）。在一个终端中恢复stdout，即重新激活向屏幕输出。
Ctrl-R       |  开始增量历史命令搜索。
Ctrl-S       |  挂起（XOFF）。在一个终端中冻结stdout，即暂停向屏幕输出。
Ctrl-U       |  删除光标到行首的所有字符。在某些设置下，不管光标所在的位置，Ctrl-U都将删除整行输入。
Ctrl-V       |  当输入字符时，Ctrl-V允许插入控制字符。Ctrl-V主要用于文本编辑。
Ctrl-W       |  当在控制台或一个xterm窗口敲入文本时，Ctrl-W将会删除当前光标到左边最近一个空格间的全部字符。 在某些设置下，Ctrl-W将会删除当前光标到左边第一个非字符之间的全部字符。
Ctrl-Z       |  暂停前台作用。
LEFT(RIGHT)  |  在命令行上，把光标向左（右）移动一个位置。
UP(DOWN)     |  浏览历史命令。
Shift+PgUp   |  向上卷屏（通过浏览终端缓冲区）。
Shift+PgDn   |  向下卷屏（通过浏览终端缓冲区）。
Tab          |  命令或文件名补全功能。
Tab+Tab      |  显示所有可能的文件或命令。


## 37 脚本编写

### 37.1 Shell脚本的三种方式：

#### 37.1.1 输入重定向到Shell脚本。
一般形式是：

```shell
$ bash < 脚本名
```

#### 37.1.2 以脚本名作为bash的参数。
一般形式是：
```shell
$ bash 脚本名 [脚本的参数]
```

#### 37.1.3 将Shell脚本的权限设置为可执行，然后在提示符下直接执行
这种形式一般都会在脚本的第一上脚本行给出shell的路径（以`#!`开头），如：
```shell
#!/bin/bash
```
